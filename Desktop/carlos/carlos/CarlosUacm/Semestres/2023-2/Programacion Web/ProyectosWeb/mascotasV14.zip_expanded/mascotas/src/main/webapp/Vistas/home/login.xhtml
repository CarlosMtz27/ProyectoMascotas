<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Inicio de Sesión</title>
	<link rel="stylesheet"
		href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
	<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css'
		rel='stylesheet' />
	<link rel="stylesheet" href="../../css/login.css" />
</h:head>
<h:body>
	<nav>
		<div class="card">
			<h:form>
				<p:growl id="messages"/>
				<p:menubar>
					<p:menuitem value="Mascotas CDMX" icon="pi pi-home"
						actionListener="#{controladorLogin.inicio}" />


					<p:menuitem value="Registro" icon="pi pi-user-plus"
						oncomplete="PF('registroDialog').show()" update=":registroForm" />

					<p:submenu label="Acerca de" icon="pi pi-info">
						<p:menuitem value="Nostros" icon="pi pi-users"
							action="nosotros.xhtml"></p:menuitem>
						<p:menuitem value="Historia" icon="pi pi-link"></p:menuitem>
					</p:submenu>

					<p:divider layout="vertical" />

					<f:facet name="options">
						<div class="ui-input-icon-left mr-2">
							<i class="pi pi-fw pi-search" />
							<p:inputText id="globalFilter"
								onkeyup="PF('dtProducts').filter()" placeholder="Buscar" />
						</div>
						<p:commandButton value="Ir Atras" icon="pi pi-arrow-circle-left"
							styleClass="ui-button-danger"
							actionListener="#{controladorLogin.inicio}" />
					</f:facet>
				</p:menubar>
			</h:form>
		</div>
	</nav>

	<div class="cuerpo">
		<p:growl id="messages" showDetail="true" />
		<div class="wrapper">
			<h:form>
				<h1>Login</h1>
				<div class="input-box">
					<i class='bx bxs-user'></i>
					<p:inputText id="username" required="true"
						value="#{controladorLogin.correo}" placeholder="correo"
						class="input" />
					<p:tooltip for="username" value="Ingresa tu correo"
						position="right" />
				</div>
				<div class="input-box">
					<i class='bx bxs-lock-alt'></i>
					<h:inputSecret id="password" required="true"
						value="#{controladorLogin.password}" class="input" />
					<p:tooltip for="password" value="Ingresa tu contraseña"
						position="right" />
				</div>
				<p:commandButton value="Iniciar Sesión" class="btnx"
					action="#{controladorLogin.login(controladorLogin.correo, controladorLogin.password)}" />

				<div class="register-link">
					<p>
						No tiene un cuenta
						<p:commandLink value=" Registrese aqui"
							oncomplete="PF('registroDialog').show()" update=":registroForm"
							class="ax" />
					</p>
				</div>
			</h:form>
		</div>



	</div>




	<!-- <div class="container mt-5">
		<h2>Iniciar Sesión</h2>
		<hr />
		<p:growl id="messages" showDetail="true" />
		<h:form>
			<div class="form-group">

				<p:inputText id="username" value="#{controladorLogin.correo}"
					placeholder="Correo electronico" />
				<p:tooltip for="username" value="Ingresa tu correo" position="right" />
			</div>
			<div class="form-group">

				<p:password id="password" value="#{controladorLogin.password}"
					toggleMask="true" redisplay="true" placeholder="Contraseña" />

				<p:tooltip for="password" value="Ingresa tu contraseña"
					position="right" />
			</div>

			<p:commandButton value="Iniciar Sesión" class="btn btn-primary"
				action="#{controladorLogin.login(controladorLogin.correo, controladorLogin.password)}" />

			<p:commandButton value="Registrar" class="btn btn-secondary"
				oncomplete="PF('registroDialog').show()" update=":registroForm"
				styleClass="ui-button-success" style="margin-right: .5rem" />
		</h:form>
	</div> -->

	<!-- Diálogo para el registro -->
	<p:dialog header="Registro" widgetVar="registroDialog"
		resizable="false" modal="true" showEffect="fade" hideEffect="fade">
		<h:form id="registroForm">
			<p:panelGrid columns="4" columnClasses="label, value">
				<div class="form-group">
					<label for="nombre">Nombre:</label>
					<p:inputText value="#{registroUsuario.usuario.nombre}"
						class="form-control" required="true" />
						
					
				</div>
				<div class="form-group">
					<label for="apellidoMaterno">Apellido Paterno:</label> <p:inputText
							value="#{registroUsuario.usuario.apellidoPaterno}"
							class="form-control" required="true" />
				</div>
				<div class="form-group">
					<label for="apellidoMaterno">Apellido Materno:</label>
					<p:inputText id="apellidoMaterno"
						value="#{registroUsuario.usuario.apellidoMaterno}"
						class="form-control" required="true" />
					
				</div>
				<div class="form-group">
					<label for="correo">Correo:</label>
					<p:inputText id="correo" value="#{registroUsuario.usuario.correo}"
						class="form-control" required="true" />
				</div>
				<div class="form-group">
					<label for="password">Contraseña:</label>
					<h:inputSecret id="password"
						value="#{registroUsuario.usuario.password}" class="form-control"
						required="true" />
				</div>
				<div class="form-group">
					<label for="direccion">Dirección:</label>
					<p:inputText id="direccion"
						value="#{registroUsuario.usuario.direccion}" class="form-control" required="true" />
				</div>

				<div class="form-group">
					<label for="telefono">Teléfono:</label>
					<p:inputText id="telefono"
						value="#{registroUsuario.usuario.telefono}" class="form-control" />
				</div>
				<h:inputHidden id="tipoHidden"
					value="#{registroUsuario.usuario.rol}"/>


				<p:commandButton value="Agregar"
					actionListener="#{registroUsuario.agregarLogin}"
					class="btn btn-success" oncomplete="PF('registroDialog').hide()" />
			</p:panelGrid>
		</h:form>
	</p:dialog>
</h:body>
</html>
